# Event Processor default configuration
# These can be overridden by the consuming application

# Disabled by default - consumer must explicitly enable
event-processor.enabled=false

# Dev profile - enable event processor
%dev.event-processor.enabled=true

# Concurrency settings
event-processor.concurrency=10
event-processor.batch-max-size=100
event-processor.batch-max-wait-ms=100

# MongoDB settings
event-processor.database=flowcatalyst
event-processor.source-collection=events
event-processor.projection-collection=events_read

# Redis checkpoint key
event-processor.checkpoint-key=event-processor-checkpoint

# Hot standby (disabled by default)
standby.enabled=false
standby.lock-key=event-processor-primary-lock
standby.lock-ttl-seconds=30

# Dev profile - readable logs (not JSON)
%dev.quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
%dev.quarkus.log.console.json.enabled=false
%dev.quarkus.log.level=INFO
%dev.quarkus.log.category."tech.flowcatalyst".level=DEBUG

# MongoDB connection
quarkus.mongodb.connection-string=${MONGODB_URL:mongodb://localhost:27017}
quarkus.mongodb.database=${MONGODB_DATABASE:flowcatalyst}
%dev.quarkus.mongodb.connection-string=mongodb://localhost:27017/?replicaSet=rs0&directConnection=true
%dev.quarkus.mongodb.database=flowcatalyst
# Disable Dev Services - use the docker-compose MongoDB
quarkus.mongodb.devservices.enabled=false
