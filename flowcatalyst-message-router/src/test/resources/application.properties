# Test Configuration
# Use the internal LocalConfigResource endpoint (same server, no external dependency)
%test.quarkus.rest-client.message-router-config.url=http://localhost:8081/api/config

# Enable message router in tests - it was working before the module split
%test.message-router.enabled=true

# Use SQS for tests (LocalStack will be available via docker-compose for integration tests)
%test.message-router.queue-type=SQS
%test.message-router.max-pools=2000

# Disable scheduled syncs in unit tests to avoid background activity
%test.message-router.sync-interval=24h

# Short timeouts for tests
%test.quarkus.rest-client.message-router-config.connect-timeout=1000
%test.quarkus.rest-client.message-router-config.read-timeout=2000

# SQS test configuration (use LocalStack if available, otherwise mock)
%test.quarkus.sqs.endpoint-override=http://localhost:4566
%test.quarkus.sqs.aws.region=eu-west-1
%test.quarkus.sqs.aws.credentials.type=static
%test.quarkus.sqs.aws.credentials.static-provider.access-key-id=test
%test.quarkus.sqs.aws.credentials.static-provider.secret-access-key=test

# Disable schedulers in tests to avoid shutdown race conditions
%test.quarkus.scheduler.enabled=false
%test.queue.health.monitor.enabled=false
%test.notification.enabled=false

# Test logging - quieter
%test.quarkus.log.level=WARN
%test.quarkus.log.category."tech.flowcatalyst".level=INFO
%test.quarkus.log.console.json.enabled=false
