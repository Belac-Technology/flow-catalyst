# Application Configuration
quarkus.application.name=flow-catalyst
quarkus.banner.enabled=false

# Logging Configuration - Dev: readable logs (not JSON)
%dev.quarkus.log.console.json=false
%dev.quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
%dev.quarkus.log.level=INFO
%dev.quarkus.log.category."tech.flowcatalyst".level=DEBUG

# Logging Configuration - Prod: JSON structured logs
%prod.quarkus.log.console.json=true
%prod.quarkus.log.console.json.pretty-print=false
%prod.quarkus.log.level=INFO
%prod.quarkus.log.console.json.additional-field."service.name".value=flow-catalyst
%prod.quarkus.log.console.json.additional-field."service.version".value=${quarkus.application.version:1.0.0-SNAPSHOT}
%prod.quarkus.log.console.json.additional-field."environment".value=${ENVIRONMENT:production}

# Message Router Configuration
message-router.enabled=true
message-router.queue-type=SQS
message-router.sync-interval=5m
message-router.queue-capacity=1000

# REST Client Configuration
quarkus.rest-client.message-router-config.url=${MESSAGE_ROUTER_CONFIG_URL:http://localhost:8080}
quarkus.rest-client.message-router-config.scope=jakarta.inject.Singleton

# Dev profile - use local config endpoint
%dev.quarkus.rest-client.message-router-config.url=http://localhost:8080

# SQS Configuration (when using SQS)
quarkus.sqs.endpoint-override=${SQS_ENDPOINT_OVERRIDE:}
quarkus.sqs.aws.region=${AWS_REGION:us-east-1}
quarkus.sqs.aws.credentials.type=default

# Dev profile - ElasticMQ local SQS
%dev.quarkus.sqs.endpoint-override=http://localhost:9324
%dev.quarkus.sqs.aws.region=us-east-1
%dev.quarkus.sqs.aws.credentials.type=static
%dev.quarkus.sqs.aws.credentials.static-provider.access-key-id=x
%dev.quarkus.sqs.aws.credentials.static-provider.secret-access-key=x

# ActiveMQ Configuration (when using ACTIVEMQ)
activemq.broker.url=${ACTIVEMQ_BROKER_URL:tcp://localhost:61616}
activemq.username=${ACTIVEMQ_USERNAME:admin}
activemq.password=${ACTIVEMQ_PASSWORD:admin}

# PostgreSQL Configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${POSTGRES_USER:flowcatalyst}
quarkus.datasource.password=${POSTGRES_PASSWORD:flowcatalyst}
quarkus.datasource.jdbc.url=${POSTGRES_URL:jdbc:postgresql://localhost:5432/flowcatalyst}

# Hibernate Configuration
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.mapping.format.global=ignore

# Dev profile - PostgreSQL local
%dev.quarkus.datasource.username=flowcatalyst
%dev.quarkus.datasource.password=flowcatalyst
%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/flowcatalyst
%dev.quarkus.hibernate-orm.log.sql=true

# Flyway Configuration
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.baseline-version=0
quarkus.flyway.locations=classpath:db/migration

# Dispatch Jobs Configuration
dispatch-jobs.enabled=${DISPATCH_JOBS_ENABLED:true}
